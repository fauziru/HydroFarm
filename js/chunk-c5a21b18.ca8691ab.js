(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5a21b18"],{1681:function(t,e,a){},"169a":function(t,e,a){"use strict";var i=a("5530"),n=a("2909"),s=a("ade3"),r=(a("a9e3"),a("498a"),a("caad"),a("2532"),a("7db0"),a("368e"),a("480e")),o=a("4ad4"),c=a("b848"),l=a("75eb"),d=a("e707"),u=a("e4d3"),h=a("21be"),v=a("f2e7"),m=a("a293"),p=a("58df"),f=a("d9bd"),g=a("80d2"),b=Object(p["a"])(o["a"],c["a"],l["a"],d["a"],u["a"],h["a"],v["a"]);e["a"]=b.extend({name:"v-dialog",directives:{ClickOutside:m["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(s["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(s["a"])(t,"v-dialog--active",this.isActive),Object(s["a"])(t,"v-dialog--persistent",this.persistent),Object(s["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(s["a"])(t,"v-dialog--scrollable",this.scrollable),Object(s["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(f["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):d["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===g["y"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var a=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=Object(n["a"])(a).find((function(t){return!t.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(r["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(i["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(i["a"])(Object(i["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(g["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(g["g"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"368e":function(t,e,a){},"52d6":function(t,e,a){"use strict";a("d737")},"77be":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"mx-auto col-12 col-md-6 text-center no-padding"},[i("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.uploadAvatar,callback:function(t){e.uploadAvatar=t},expression:"uploadAvatar"}},[i("v-card",[i("v-card-title",[i("span",{staticClass:"headline"},[e._v("Upload Avatar")])]),i("v-card-text",{style:{paddingBottom:"0px !important"}},[void 0!==e.preview?i("v-img",{style:{borderRadius:"100%",marginBottom:"20px",height:"100px",width:"100px",marginInline:"auto"},attrs:{src:e.preview}}):e._e(),i("v-file-input",{attrs:{type:"file","error-messages":e.gambarErrors,"show-size":"","truncate-length":"15",placeholder:"Pilih gambar ...",outlined:"",dense:"",disabled:e.loadState},on:{change:e.onSelectFile}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:e.loadState},on:{click:e.saveAvatar}},[e._v(" "+e._s(e.loadState?"...menyimpan":"simpan")+" ")])],1)],1)],1),i("v-btn",{style:{zIndex:10,width:"92px",height:"92px"},attrs:{icon:"",disabled:e.loadState},on:{click:function(){t.uploadAvatar=!t.uploadAvatar}}},[i("v-avatar",{staticClass:"border",attrs:{color:"primary",size:"100"}},[i("v-img",{attrs:{src:e.srcImage,alt:"Avatar User"}})],1)],1),i("v-card",{staticClass:"h-full elevation-1",style:{marginTop:"-25px",paddingTop:"30px"},attrs:{color:"white",rounded:"xl","min-height":"140"}},[i("v-card-text",["admin"===e.user.role?i("div",{style:{paddingInline:"30px"}},[i("v-chip",{staticClass:"text-capitalize",attrs:{color:"primary",outlined:""}},[e._v(" "+e._s(e.user.role)+" ")])],1):e._e(),i("div",{style:{paddingInline:"30px"}},[i("p",{staticClass:"text-truncate",style:{fontSize:"16px"}},[e._v(" "+e._s(e.user.email_address)+" ")])]),i("v-form",{attrs:{disabled:e.loadState||!e.isEdit}},[i("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Nama",outlined:"",required:"",clearable:""},on:{input:e.$v.form.name_user.$touch},model:{value:e.form.name_user,callback:function(t){e.$set(e.form,"name_user",t)},expression:"form.name_user"}}),i("v-text-field",{attrs:{label:"Nomor Handphone",outlined:"",required:"",clearable:""},on:{input:e.$v.form.phone.$touch},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),i("v-textarea",{attrs:{label:"Alamat",outlined:"",required:"",clearable:"","auto-grow":""},on:{input:e.$v.form.adress.$touch},model:{value:e.form.adress,callback:function(t){e.$set(e.form,"adress",t)},expression:"form.adress"}})],1),i("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:e.loadState},on:{click:e.save}},[e._v(" "+e._s(e.loadState?"...menyimpan":e.isEdit?"simpan":"ubah")+" ")])],1)],1)],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("b0c0"),a("2b3d"),a("d3b7"),a("3ca3"),a("ddb0"),a("c1f9"),a("2f62")),c=a("b5ae"),l={data:function(){return{uploadAvatar:!1,isEdit:!1,form:{name_user:"",phone:"",adress:""},preview:void 0,file:void 0,sourceImage:"https://api.hydrofarm.id/storage/images/avatar/"}},validations:{form:{name_user:{required:c["required"]},phone:{},adress:{}},preview:{required:c["required"]}},computed:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(o["d"])("auth",["user"])),Object(o["d"])("layout",["loadState"])),{},{srcImage:function(){return this.user.img_path?this.sourceImage+this.user.img_path:"https://ui-avatars.com/api/?name=".concat(this.user.name,"&background=b0d388")},nameErrors:function(){var t=[];return this.$v.form.name_user.$dirty?(!this.$v.form.name_user.required&&t.push("nama dibutuhkan!"),t):t},gambarErrors:function(){var t=[];return this.$v.preview.$dirty?(!this.$v.preview.required&&t.push("gambar dibutuhkan!"),t):t}}),created:function(){this.form=Object.assign(this.form,{name_user:this.user.name,adress:this.user.address,phone:this.user.phone_number})},updated:function(){this.uploadAvatar||void 0!==this.preview&&(URL.revokeObjectURL(this.preview),this.preview=void 0,this.file=void 0)},beforeDestroy:function(){void 0!==this.preview&&URL.revokeObjectURL(this.preview)},methods:{save:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isEdit){e.next=23;break}if(t.$v.form.$invalid){e.next=19;break}return e.prev=2,t.loadstate(!0),console.log("form",t.form),e.next=7,t.axios.put("user",t.form);case 7:t.$store.dispatch("auth/updateUser",t.form),t.loadstate(!1),t.isEdit=!t.isEdit,t.alert("Berhasil memperbarui data!","success"),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](2),t.loadstate(!1),console.log("error",e.t0);case 17:e.next=21;break;case 19:t.alert("Semua kolom harus diisi!","error"),console.log("form",t.form);case 21:e.next=24;break;case 23:t.isEdit=!t.isEdit;case 24:case"end":return e.stop()}}),e,null,[[2,13]])})))()},saveAvatar:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$v.preview.$invalid){e.next=22;break}return e.prev=1,t.loadstate(!0),a=new FormData,a.append("image",t.file),console.log(Object.fromEntries(a)),e.next=8,t.axios.post("user/avatar",a);case 8:i=e.sent,n=i.data.data,t.$store.dispatch("auth/updateAvatar",n),t.alert("Berhasil mengupload gambar!","success"),t.loadstate(!1),t.uploadAvatar=!t.uploadAvatar,e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](1),t.loadstate(!1),console.log("error update avatar",e.t0);case 20:e.next=23;break;case 22:t.alert("Semua kolom harus diisi!","error");case 23:case"end":return e.stop()}}),e,null,[[1,16]])})))()},onSelectFile:function(t){if(t){var e=URL.createObjectURL(t);this.preview=e,this.file=t}else URL.revokeObjectURL(this.preview),this.preview=void 0},alert:function(t,e){this.$store.dispatch("layout/alertFire",{type:e,message:t})},loadstate:function(t){this.$store.commit("layout/setLoadstate",t)}}},d=l,u=(a("52d6"),a("2877")),h=a("6544"),v=a.n(h),m=a("8212"),p=a("8336"),f=a("b0af"),g=a("99d9"),b=a("cc20"),w=a("169a"),x=a("23a7"),y=a("4bd4"),k=a("adda"),$=a("2fa4"),O=a("8654"),A=(a("a9e3"),a("1681"),a("58df")),_=Object(A["a"])(O["a"]),C=_.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(r["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},O["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=O["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){O["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}}),I=Object(u["a"])(d,i,n,!1,null,"940493ba",null);e["default"]=I.exports;v()(I,{VAvatar:m["a"],VBtn:p["a"],VCard:f["a"],VCardActions:g["a"],VCardText:g["c"],VCardTitle:g["d"],VChip:b["a"],VDialog:w["a"],VFileInput:x["a"],VForm:y["a"],VImg:k["a"],VSpacer:$["a"],VTextField:O["a"],VTextarea:C})},c1f9:function(t,e,a){var i=a("23e7"),n=a("2266"),s=a("8418");i({target:"Object",stat:!0},{fromEntries:function(t){var e={};return n(t,(function(t,a){s(e,t,a)}),{AS_ENTRIES:!0}),e}})},d737:function(t,e,a){}}]);